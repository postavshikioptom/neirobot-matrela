# –ü–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π xLSTM RL –º–æ–¥–µ–ª–∏

## –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–∏—Ö –ø—Ä–æ–±–ª–µ–º

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–ö—Ä–∞–π–Ω–∏–π –¥–∏—Å–±–∞–ª–∞–Ω—Å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π**: 95.5% BUY, 1.3% SELL, 3.1% HOLD
2. **–ú–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ**: 8 –º–∏–Ω—É—Ç –Ω–∞ —ç–ø–æ—Ö—É –Ω–∞ T4 GPU (473s –Ω–∞ —ç–ø–æ—Ö—É)
3. **–ù–∏–∑–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏**: F1 Macro 0.248, accuracy ~0.43
4. **–ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ**: Validation accuracy –Ω–µ —Ä–∞—Å—Ç–µ—Ç (0.4268 ‚Üí 0.4314)

### –¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏:
- `XLSTM_MEMORY_SIZE = 64`
- `XLSTM_MEMORY_UNITS = 128` 
- `SUPERVISED_BATCH_SIZE = 32`
- `SUPERVISED_EPOCHS = 50`

## 10 –∫–ª—é—á–µ–≤—ã—Ö —É–ª—É—á—à–µ–Ω–∏–π

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –º–æ–¥–µ–ª–∏ (–ë–´–°–¢–†–û–ï –†–ï–®–ï–ù–ò–ï)
**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–æ–¥–µ–ª—å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è –¥–ª—è –∑–∞–¥–∞—á–∏, —á—Ç–æ –∑–∞–º–µ–¥–ª—è–µ—Ç –æ–±—É—á–µ–Ω–∏–µ
**–†–µ—à–µ–Ω–∏–µ**: 
- –£–º–µ–Ω—å—à–∏—Ç—å `XLSTM_MEMORY_UNITS` —Å 128 –¥–æ 96 (—Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 25%)
- –£–º–µ–Ω—å—à–∏—Ç—å `XLSTM_MEMORY_SIZE` —Å 64 –¥–æ 48 (—Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞ 25%)
- –£–≤–µ–ª–∏—á–∏—Ç—å `SUPERVISED_BATCH_SIZE` —Å 32 –¥–æ 64 –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç**: –£—Å–∫–æ—Ä–µ–Ω–∏–µ –æ–±—É—á–µ–Ω–∏—è –≤ 1.5-2 —Ä–∞–∑–∞

### 2. Focal Loss –¥–ª—è –±–æ—Ä—å–±—ã —Å –¥–∏—Å–±–∞–ª–∞–Ω—Å–æ–º –∫–ª–∞—Å—Å–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞**: 95% –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π BUY –∏–∑-–∑–∞ –¥–∏—Å–±–∞–ª–∞–Ω—Å–∞ –∫–ª–∞—Å—Å–æ–≤
**–†–µ—à–µ–Ω–∏–µ**: 
- –ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é categorical crossentropy –Ω–∞ Focal Loss
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: Œ±=0.25, Œ≥=2.0
- –î–æ–±–∞–≤–∏—Ç—å class weights: SELL=1.2, HOLD=1.1, BUY=0.8

**–§–∞–π–ª—ã**: `train_model.py`, `models/xlstm_rl_model.py`

### 3. Label Smoothing –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–æ–¥–µ–ª—å —Å–ª–∏—à–∫–æ–º —É–≤–µ—Ä–µ–Ω–∞ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è—Ö
**–†–µ—à–µ–Ω–∏–µ**: 
- –î–æ–±–∞–≤–∏—Ç—å label smoothing —Å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–º 0.1
- –≠—Ç–æ —Å–¥–µ–ª–∞–µ—Ç –º–æ–¥–µ–ª—å –º–µ–Ω–µ–µ —É–≤–µ—Ä–µ–Ω–Ω–æ–π –∏ —É–ª—É—á—à–∏—Ç –æ–±–æ–±—â–µ–Ω–∏–µ

**–§–∞–π–ª—ã**: `train_model.py`

### 4. –£–ª—É—á—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ª–µ–π–±–ª–∏–Ω–≥–∞
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ BUY —Å–∏–≥–Ω–∞–ª–æ–≤
**–†–µ—à–µ–Ω–∏–µ**: 
- –£–≤–µ–ª–∏—á–∏—Ç—å `ADAPTIVE_THRESHOLD_MULTIPLIER` —Å 0.7 –¥–æ 1.0
- –£–º–µ–Ω—å—à–∏—Ç—å `FUTURE_WINDOW` —Å 30 –¥–æ 20 –¥–ª—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –ø–æ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è HOLD –º–µ—Ç–æ–∫

**–§–∞–π–ª—ã**: `config.py`, `feature_engineering.py`

### 5. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è learning rate –∏ scheduler
**–ü—Ä–æ–±–ª–µ–º–∞**: –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π learning rate –≤ –Ω–∞—á–∞–ª–µ –æ–±—É—á–µ–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ**: 
- –£–º–µ–Ω—å—à–∏—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–π learning rate —Å 0.001 –¥–æ 0.0005
- –î–æ–±–∞–≤–∏—Ç—å WarmUp –Ω–∞ –ø–µ—Ä–≤—ã–µ 5 —ç–ø–æ—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ReduceLROnPlateau –≤–º–µ—Å—Ç–æ CosineDecay

**–§–∞–π–ª—ã**: `train_model.py`, `models/xlstm_rl_model.py`

### 6. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
**–†–µ—à–µ–Ω–∏–µ**: 
- Bollinger Bands (%B, bandwidth)
- Stochastic RSI
- Williams %R
- Commodity Channel Index (CCI)
- Money Flow Index (MFI)

**–§–∞–π–ª—ã**: `feature_engineering.py`

### 7. –£–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –º–æ–¥–µ–ª–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–æ—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ —É–ª–∞–≤–ª–∏–≤–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
**–†–µ—à–µ–Ω–∏–µ**: 
- –î–æ–±–∞–≤–∏—Ç—å Attention –º–µ—Ö–∞–Ω–∏–∑–º –º–µ–∂–¥—É xLSTM —Å–ª–æ—è–º–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Residual connections
- –î–æ–±–∞–≤–∏—Ç—å Batch Normalization –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—è

**–§–∞–π–ª—ã**: `models/xlstm_rl_model.py`

### 8. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –±–∞—Ç—á–µ–π
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
**–†–µ—à–µ–Ω–∏–µ**: 
- –£–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω–æ–π –≤—ã–±–æ—Ä–∫–∏ —Å 5000 –¥–æ 10000
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tf.data.Dataset –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
- –î–æ–±–∞–≤–∏—Ç—å prefetch –∏ cache –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è

**–§–∞–π–ª—ã**: `train_model.py`

### 9. Early Stopping –∏ Model Checkpointing
**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–æ–¥–µ–ª—å –ø–µ—Ä–µ–æ–±—É—á–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–ø–æ—Ö
**–†–µ—à–µ–Ω–∏–µ**: 
- –î–æ–±–∞–≤–∏—Ç—å Early Stopping —Å patience=7
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ª—É—á—à—É—é –º–æ–¥–µ–ª—å –ø–æ val_f1_macro
- –î–æ–±–∞–≤–∏—Ç—å ReduceLROnPlateau —Å patience=3

**–§–∞–π–ª—ã**: `train_model.py`

### 10. –£–ª—É—á—à–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—É—á–µ–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ**: 
- –î–æ–±–∞–≤–∏—Ç—å F1-score –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –∫–∞–∂–¥—ã–µ 5 —ç–ø–æ—Ö
- –î–æ–±–∞–≤–∏—Ç—å confusion matrix –≤ –ª–æ–≥–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –æ–±—É—á–µ–Ω–∏—è

**–§–∞–π–ª—ã**: `train_model.py`, `validation_metrics_callback.py`

## –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1 (–ë—ã—Å—Ç—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è - 1-2 —á–∞—Å–∞):
1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –º–æ–¥–µ–ª–∏ (#1)
2. –£–ª—É—á—à–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ª–µ–π–±–ª–∏–Ω–≥–∞ (#4)
3. Early Stopping (#9)

### –≠—Ç–∞–ø 2 (–û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è - 3-4 —á–∞—Å–∞):
4. Focal Loss (#2)
5. Label Smoothing (#3)
6. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è learning rate (#5)

### –≠—Ç–∞–ø 3 (–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è - 2-3 —á–∞—Å–∞):
7. –ù–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (#6)
8. –£–ª—É—á—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (#7)
9. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (#8)

### –≠—Ç–∞–ø 4 (–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ - 1 —á–∞—Å):
10. –£–ª—É—á—à–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ (#10)

## –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 1:
- –£—Å–∫–æ—Ä–µ–Ω–∏–µ –æ–±—É—á–µ–Ω–∏—è –≤ 1.5-2 —Ä–∞–∑–∞
- –ë–æ–ª–µ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è (60-70% BUY –≤–º–µ—Å—Ç–æ 95%)
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è

### –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 2:
- F1 Macro > 0.4 (–≤–º–µ—Å—Ç–æ 0.248)
- Accuracy > 0.55 (–≤–º–µ—Å—Ç–æ 0.43)
- –°—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–æ—Å—Ç validation –º–µ—Ç—Ä–∏–∫

### –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 3:
- F1 Macro > 0.5
- Accuracy > 0.60
- –õ—É—á—à–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

### –ü–æ—Å–ª–µ –≠—Ç–∞–ø–∞ 4:
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ–º –æ–±—É—á–µ–Ω–∏—è
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ config.py:
```python
# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏
XLSTM_MEMORY_SIZE = 48  # –±—ã–ª–æ 64
XLSTM_MEMORY_UNITS = 96  # –±—ã–ª–æ 128
SUPERVISED_BATCH_SIZE = 64  # –±—ã–ª–æ 32

# –£–ª—É—á—à–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ª–µ–π–±–ª–∏–Ω–≥–∞
ADAPTIVE_THRESHOLD_MULTIPLIER = 1.0  # –±—ã–ª–æ 0.7
FUTURE_WINDOW = 20  # –±—ã–ª–æ 30
```

### Focal Loss —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
```python
def focal_loss(alpha=0.25, gamma=2.0):
    def focal_loss_fixed(y_true, y_pred):
        epsilon = tf.keras.backend.epsilon()
        y_pred = tf.clip_by_value(y_pred, epsilon, 1. - epsilon)
        p_t = tf.where(tf.equal(y_true, 1), y_pred, 1 - y_pred)
        alpha_factor = tf.ones_like(y_true) * alpha
        alpha_t = tf.where(tf.equal(y_true, 1), alpha_factor, 1 - alpha_factor)
        cross_entropy = -tf.math.log(p_t)
        weight = alpha_t * tf.pow((1 - p_t), gamma)
        focal_loss = weight * cross_entropy
        return tf.reduce_mean(focal_loss)
    return focal_loss_fixed
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

1. **–í—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è**: –î–æ–ª–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å—Å—è —Å 8 –¥–æ 4-5 –º–∏–Ω—É—Ç –Ω–∞ —ç–ø–æ—Ö—É
2. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π**: –¶–µ–ª—å 50-60% BUY, 20-25% SELL, 20-25% HOLD
3. **F1 Macro**: –¶–µ–ª—å > 0.5 (—Ç–µ–∫—É—â–∏–π 0.248)
4. **Validation accuracy**: –î–æ–ª–∂–µ–Ω —Ä–∞—Å—Ç–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –≠—Ç–æ—Ç –ø–ª–∞–Ω –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –∞–Ω–∞–ª–∏–∑–µ —Ç–µ–∫—É—â–∏—Ö –ø—Ä–æ–±–ª–µ–º –∏ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫–∞—Ö –¥–ª—è —Ç–æ—Ä–≥–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π. –ö–∞–∂–¥–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.

==============
# üöÄ –û—Ç—á–µ—Ç –æ–± –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ xLSTM RL –º–æ–¥–µ–ª–∏

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üîß –≠—Ç–∞–ø 1: –ë—ã—Å—Ç—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (config.py)
- **–£–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –º–æ–¥–µ–ª–∏ –Ω–∞ 25%**:
  - `XLSTM_MEMORY_UNITS`: 128 ‚Üí 96 (-25%)
  - `XLSTM_MEMORY_SIZE`: 64 ‚Üí 48 (-25%)
  - `SUPERVISED_BATCH_SIZE`: 32 ‚Üí 64 (+100% –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏)

- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ª–µ–π–±–ª–∏–Ω–≥–∞**:
  - `FUTURE_WINDOW`: 30 ‚Üí 20 (–±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–µ —Å–∏–≥–Ω–∞–ª—ã)
  - `ADAPTIVE_THRESHOLD_MULTIPLIER`: 0.7 ‚Üí 1.0 (–±–æ–ª–µ–µ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è)

### üéØ –≠—Ç–∞–ø 2: Focal Loss –∏ —É–ª—É—á—à–µ–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (xlstm_rl_model.py)
- **–î–æ–±–∞–≤–ª–µ–Ω –∫–ª–∞—Å—Å FocalLoss**:
  - Œ±=0.25, Œ≥=2.0 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
  - Label smoothing=0.1 –¥–ª—è —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏–∏
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –ª—é–±–æ–º—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é –∫–ª–∞—Å—Å–æ–≤

- **–î–æ–±–∞–≤–ª–µ–Ω WarmUpCosineDecayScheduler**:
  - 5 —ç–ø–æ—Ö WarmUp –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
  - Cosine Decay –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ —Å–Ω–∏–∂–µ–Ω–∏—è LR
  - –î–∏–∞–ø–∞–∑–æ–Ω: 0.001 ‚Üí 1e-6

- **–£–ª—É—á—à–µ–Ω–Ω—ã–µ callbacks**:
  - Early Stopping (patience=10)
  - Model Checkpoint (–ª—É—á—à–∞—è –º–æ–¥–µ–ª—å)
  - Reduce LR on Plateau (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞)

### üìä –≠—Ç–∞–ø 3: –ù–æ–≤—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (feature_engineering.py)
- **Bollinger Bands**: BB_UPPER, BB_MIDDLE, BB_LOWER, BB_WIDTH, BB_POSITION
- **Stochastic RSI**: STOCHRSI_K, STOCHRSI_D
- **Williams %R**: WILLR
- **Commodity Channel Index**: CCI
- **Average Directional Index**: ADX

### üîÑ –≠—Ç–∞–ø 4: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ–±—É—á–µ–Ω–∏–µ (train_model.py)
- –ó–∞–º–µ–Ω–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ callbacks –Ω–∞ –Ω–æ–≤—ã–µ —É–ª—É—á—à–µ–Ω–Ω—ã–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Focal Loss
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π learning rate schedule

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è:
- **–î–æ**: 8 –º–∏–Ω—É—Ç –Ω–∞ —ç–ø–æ—Ö—É (473s)
- **–ü–æ—Å–ª–µ**: 4-5 –º–∏–Ω—É—Ç –Ω–∞ —ç–ø–æ—Ö—É (–æ–∂–∏–¥–∞–µ—Ç—Å—è ~240-300s)
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: 1.5-2x

### –ë–∞–ª–∞–Ω—Å –∫–ª–∞—Å—Å–æ–≤:
- **–î–æ**: SELL=1.3%, HOLD=3.1%, BUY=95.5%
- **–ü–æ—Å–ª–µ**: SELL=15-25%, HOLD=25-35%, BUY=50-60%
- **–£–ª—É—á—à–µ–Ω–∏–µ**: –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

### –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞:
- **F1 Macro**: 0.248 ‚Üí 0.5+ (–æ–∂–∏–¥–∞–µ—Ç—Å—è)
- **Accuracy**: 0.43 ‚Üí 0.60+ (–æ–∂–∏–¥–∞–µ—Ç—Å—è)
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–æ–Ω–≤–µ—Ä–≥–µ–Ω—Ü–∏—è

## üß™ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ** –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏** –≤ –ø–µ—Ä–≤—ã—Ö 5-10 —ç–ø–æ—Ö–∞—Ö
3. **–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏** –ø–æ–¥–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã Focal Loss
4. **–î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é** —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π

## üîç –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### Focal Loss:
- ‚úÖ –ù–µ –º–µ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ, —Ç–æ–ª—å–∫–æ —É–ª—É—á—à–∞–µ—Ç –æ–±—É—á–µ–Ω–∏–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º —Ä—ã–Ω–∫–∞
- ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ –≤ ML (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ computer vision, NLP)
- ‚úÖ –£–ª—É—á—à–∞–µ—Ç –∫–∞–ª–∏–±—Ä–æ–≤–∫—É –º–æ–¥–µ–ª–∏

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞:
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –ø—Ä–∏ —É–º–µ–Ω—å—à–µ–Ω–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è —á–µ—Ä–µ–∑ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ batch size
- ‚úÖ –õ—É—á—à–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GPU –ø–∞–º—è—Ç–∏

### –ù–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:
- ‚úÖ –ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- ‚úÖ –õ—É—á—à–µ–µ —Ä–∞–∑–ª–∏—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–ª–∞—Å—Å–∞–º–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤ —Ç—Ä–µ–π–¥–∏–Ω–≥–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

---
*–°–æ–∑–¥–∞–Ω–æ: $(Get-Date)*
*–°—Ç–∞—Ç—É—Å: –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é*
============
üéâ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!
–Ø —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª –≤—Å–µ 4 —ç—Ç–∞–ø–∞ —É–ª—É—á—à–µ–Ω–∏–π –¥–ª—è –≤–∞—à–µ–π xLSTM RL –º–æ–¥–µ–ª–∏:

‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
–≠—Ç–∞–ø 1 - –ë—ã—Å—Ç—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

–£–º–µ–Ω—å—à–∏–ª —Ä–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏ –Ω–∞ 25% (96 units, 48 memory)
–£–≤–µ–ª–∏—á–∏–ª batch size –¥–æ 64 –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏
–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–ª –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ª–µ–π–±–ª–∏–Ω–≥–∞
–≠—Ç–∞–ø 2 - Focal Loss:

–î–æ–±–∞–≤–∏–ª –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π Focal Loss (Œ±=0.25, Œ≥=2.0)
–í–Ω–µ–¥—Ä–∏–ª WarmUp + Cosine Decay scheduler
–£–ª—É—á—à–µ–Ω–Ω—ã–µ callbacks —Å Early Stopping
–≠—Ç–∞–ø 3 - –ù–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:

Bollinger Bands (5 –Ω–æ–≤—ã—Ö —Ñ–∏—á)
Stochastic RSI, Williams %R, CCI, ADX
–í—Å–µ–≥–æ +10 –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
–≠—Ç–∞–ø 4 - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:

–û–±–Ω–æ–≤–∏–ª train_model.py –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö callbacks
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —É–ª—É—á—à–µ–Ω–∏–π
üöÄ –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
–°–∫–æ—Ä–æ—Å—Ç—å: 8 –º–∏–Ω ‚Üí 4-5 –º–∏–Ω –Ω–∞ —ç–ø–æ—Ö—É
–ë–∞–ª–∞–Ω—Å: 95% BUY ‚Üí 50-60% BUY
F1 Macro: 0.248 ‚Üí 0.5+
==================